<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>10.Numpy库 | 宋子源的个人网站</title><meta name="author" content="ZI YUAN"><meta name="copyright" content="ZI YUAN"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="1. 为什么使用Numpy库1.1 低效的for循环8.59 s ± 408 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)   248 ms ± 2.13 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)  实现相同的计算，Numpy的运行速度时Python循环的几十倍，产生了质">
<meta property="og:type" content="website">
<meta property="og:title" content="10.Numpy库">
<meta property="og:url" content="http://example.com/2025/03/11/10-Numpy%E5%BA%93/index.html">
<meta property="og:site_name" content="宋子源的个人网站">
<meta property="og:description" content="1. 为什么使用Numpy库1.1 低效的for循环8.59 s ± 408 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)   248 ms ± 2.13 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)  实现相同的计算，Numpy的运行速度时Python循环的几十倍，产生了质">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/ziyuan.jpg">
<meta property="article:published_time" content="2025-03-11T07:50:31.000Z">
<meta property="article:modified_time" content="2025-03-11T12:22:47.778Z">
<meta property="article:author" content="ZI YUAN">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/ziyuan.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2025/03/11/10-Numpy%E5%BA%93/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '10.Numpy库',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'title'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/ziyuan.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="not-home-page fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/img/miku.jpg" alt="Logo"><span class="site-name">宋子源的个人网站</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="page-site-info"><h1 id="site-title">10.Numpy库</h1></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="1-为什么使用Numpy库"><a href="#1-为什么使用Numpy库" class="headerlink" title="1. 为什么使用Numpy库"></a>1. 为什么使用Numpy库</h1><h2 id="1-1-低效的for循环"><a href="#1-1-低效的for循环" class="headerlink" title="1.1 低效的for循环"></a>1.1 低效的for循环</h2><pre><code>8.59 s ± 408 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)


248 ms ± 2.13 ms per loop (mean ± std. dev. of 7 runs, 1 loop each)
</code></pre>
<p>实现相同的计算，Numpy的运行速度时Python循环的几十倍，产生了质的飞跃。</p>
<h2 id="1-2-为何np如此高效"><a href="#1-2-为何np如此高效" class="headerlink" title="1.2 为何np如此高效"></a>1.2 为何np如此高效</h2><p>Numpy是由C和Fortran（一种上古编程语言，1957）编写</p>
<ol>
<li>编译型语言与解释型语言<ul>
<li>C语言执行时，对代码进行整体编译，速度更快</li>
</ul>
</li>
<li>连续单一类型存储与分散多变类型存储<ul>
<li>Numpy数组内的数据类型必须时统一的，如全部时浮点型，而Python列表支持任意类型数据的填充</li>
<li>Numpy数组内的数据连续存储在内存中，而Python列表的数据分散在内存中</li>
<li>这种存储结构，与一些更加高效的底层处理方式更加的契合</li>
</ul>
</li>
<li>多线程与线程锁<ul>
<li>Python语言执行时有线程锁，无法实现真正的多线程并行，但C语言可以</li>
</ul>
</li>
</ol>
<p>Cpp作为机器码，几乎榨干硬件的性能，是系统级开发、高频交易的终极选择，而在可移植性方面，从Windows系统内核到Linux服务器，从嵌入式芯片到超级计算机，Cpp代码只需稍作调整就能遍地开花，而精通Cpp的你能在性能与功能的刀刃上起舞——从微控制器到分布式系统，从图形渲染到量化金融，完美融合了高级抽象和底层操作<del>，所以Cpp是世界上最优秀的编程语言</del>。</p>
<h2 id="1-3-什么时候用np"><a href="#1-3-什么时候用np" class="headerlink" title="1.3 什么时候用np"></a>1.3 什么时候用np</h2><pre><code>在数据出处理的过程中遇到使用&quot;Python for循环&quot;实现一些向量化矩阵化操作的时候要优先考虑用Numpy。
比如：两个向量的点乘、矩阵乘法
</code></pre>
<h1 id="2-np数组的创建"><a href="#2-np数组的创建" class="headerlink" title="2. np数组的创建"></a>2. np数组的创建</h1><h2 id="2-1-从列表开始创建"><a href="#2-1-从列表开始创建" class="headerlink" title="2.1 从列表开始创建"></a>2.1 从列表开始创建</h2><pre><code>[1 2 3 4 5]


&lt;class &#39;numpy.ndarray&#39;&gt;
(5,)
</code></pre>
<ul>
<li><p>设置数组的数据类型</p>
<p>[1. 2. 3. 4. 5.]<br>&lt;class ‘numpy.float32’&gt;</p>
</li>
<li><p>二维数组（矩阵）</p>
<p>[[1 2 3]<br> [4 5 6]<br> [7 8 9]]<br>(3, 3)</p>
</li>
</ul>
<h2 id="2-2-从头开始创建数组"><a href="#2-2-从头开始创建数组" class="headerlink" title="2.2 从头开始创建数组"></a>2.2 从头开始创建数组</h2><ol>
<li><p>创建长度为5的数组，值都是0</p>
<p> array([0, 0, 0, 0, 0])</p>
</li>
<li><p>创建一个2*4的浮点型数组，值都为1</p>
<p> array([[1., 1., 1., 1.],<br>    [1., 1., 1., 1.]])</p>
</li>
<li><p>创建一个3*5的数组，值都为8.8</p>
<p> array([[8.8, 8.8, 8.8, 8.8, 8.8],<br>    [8.8, 8.8, 8.8, 8.8, 8.8],<br>    [8.8, 8.8, 8.8, 8.8, 8.8]])</p>
</li>
<li><p>创建一个3*3的单位矩阵</p>
<p> array([[1., 0., 0.],<br>    [0., 1., 0.],<br>    [0., 0., 1.]])</p>
</li>
<li><p>创建一个线性序列数组，从1开始，到15结束，步长为2</p>
<p> array([ 1,  3,  5,  7,  9, 11, 13])</p>
</li>
<li><p>创建一个4个元素的数组，这四个数均匀的分配到0~1</p>
<p> array([0.  , 0.25, 0.5 , 0.75, 1.  ])</p>
</li>
<li><p>创建一个10个元素的数组，形成1~10^9的的等比数列</p>
<p> array([1.e+00, 1.e+01, 1.e+02, 1.e+03, 1.e+04, 1.e+05, 1.e+06, 1.e+07,<br>    1.e+08, 1.e+09])<br> array([   2.,    4.,    8.,   16.,   32.,   64.,  128.,  256.,  512.,<br>    1024.])</p>
</li>
</ol>
<p>linspace是在0~1中取4个数</p>
<p>logspace是在10^0与10^9中取10个数,没有额外说明默认为10的几次方</p>
<p>在base中添加&#x3D;2 则为2^0和2^10次方之间取10个等比数列</p>
<ol start="8">
<li><p>创建一个3*3的，在0~1之间均匀分布的随机数构成的数组</p>
<p> array([[0.80184165, 0.21372529, 0.88066776],<br>    [0.02699112, 0.76025812, 0.55262987],<br>    [0.60579284, 0.17605802, 0.34494801]])</p>
</li>
<li><p>创建一个3*3的，在[0,10)之间随机整数构成的数组</p>
<p> array([[5, 8, 3],<br>    [9, 9, 2],<br>    [1, 5, 1]])</p>
</li>
<li><p>创建一个3*3的，均值为0， 标准差为1的正态分布随机数构成的数组</p>
<p>array([[-0.35998977,  0.4243963 ,  0.18889409],<br>   [ 0.91341944,  1.82168769, -1.5941084 ],<br>   [-0.4988416 ,  1.07337484, -1.00989436]])</p>
</li>
<li><p>随机重排列 </p>
<p>array([10, 40, 20, 30])</p>
<p>[10 20 30 40]<br>[40 30 10 20]</p>
</li>
<li><p>随机采样</p>
</li>
</ol>
<ul>
<li><p>按指定形状采样</p>
<p>  array([10., 11., 12., 13., 14., 15., 16., 17., 18., 19., 20., 21., 22.,<br>     23., 24.])<br>  array([[20., 15., 10.],<br>     [19., 17., 23.],<br>     [16., 22., 21.],<br>     [12., 17., 24.]])</p>
</li>
<li><p>按概率采样</p>
<p>  array([[10., 10., 21.],<br>     [11., 23., 21.],<br>     [24., 14., 17.],<br>     [23., 16., 18.]])</p>
</li>
</ul>
<h1 id="3-数组的性质"><a href="#3-数组的性质" class="headerlink" title="3. 数组的性质"></a>3. 数组的性质</h1><h2 id="3-1-数组的属性"><a href="#3-1-数组的属性" class="headerlink" title="3.1 数组的属性"></a>3.1 数组的属性</h2><pre><code>array([[0, 2, 3, 6],
       [4, 9, 8, 5],
       [6, 1, 5, 5]])
</code></pre>
<ol>
<li><p>数组的形状shape</p>
<p> (3, 4)</p>
</li>
<li><p>数组的维度ndim</p>
<p> 2</p>
</li>
</ol>
<p>3.数组的大小size</p>
<pre><code>12
</code></pre>
<ol start="4">
<li><p>数组的数据类型dtype</p>
<p> dtype(‘int32’)</p>
</li>
</ol>
<h2 id="3-2-数组的索引"><a href="#3-2-数组的索引" class="headerlink" title="3.2 数组的索引"></a>3.2 数组的索引</h2><h3 id="3-2-1-一维的索引"><a href="#3-2-1-一维的索引" class="headerlink" title="3.2.1 一维的索引"></a>3.2.1 一维的索引</h3><pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])






0






5






9
</code></pre>
<h3 id="3-2-2-二维数组的索引"><a href="#3-2-2-二维数组的索引" class="headerlink" title="3.2.2 二维数组的索引"></a>3.2.2 二维数组的索引</h3><pre><code>array([[ 6, 13, 11],
       [19,  7, 13]])






6






6
</code></pre>
<p>numpy数组的数据类型是固定的，向一个整型数组插入一个浮点值，浮点值会向下进行取整</p>
<pre><code>array([[ 7, 13, 11],
       [19,  7, 13]])
</code></pre>
<h2 id="3-3-数组的切片"><a href="#3-3-数组的切片" class="headerlink" title="3.3 数组的切片"></a>3.3 数组的切片</h2><h3 id="3-3-1-一维数组"><a href="#3-3-1-一维数组" class="headerlink" title="3.3.1 一维数组"></a>3.3.1 一维数组</h3><pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])






array([3, 4, 5, 6, 7, 8, 9])






array([9, 8, 7, 6, 5, 4, 3, 2, 1, 0])
</code></pre>
<h3 id="3-3-2-二维数组"><a href="#3-3-2-二维数组" class="headerlink" title="3.3.2 二维数组"></a>3.3.2 二维数组</h3><pre><code>array([[16, 16, 19,  0],
       [ 1, 17, 11, 14],
       [12,  9, 13, 17]])






array([[16, 16, 19],
       [ 1, 17, 11]])






array([[16, 19],
       [ 1, 11]])






array([[17, 13,  9, 12],
       [14, 11, 17,  1],
       [ 0, 19, 16, 16]])
</code></pre>
<p>实现了行的反向输出和列的反向输出</p>
<h3 id="3-3-3-获取数组的行和列"><a href="#3-3-3-获取数组的行和列" class="headerlink" title="3.3.3 获取数组的行和列"></a>3.3.3 获取数组的行和列</h3><pre><code>array([[19, 18,  8, 10],
       [ 8, 13,  3, 18],
       [ 1,  0,  3,  6]])






array([ 8, 13,  3, 18])






array([ 8, 13,  3, 18])






array([8, 3, 3])
</code></pre>
<h3 id="3-3-4-切片获取的是视图而非副本"><a href="#3-3-4-切片获取的是视图而非副本" class="headerlink" title="3.3.4 切片获取的是视图而非副本"></a>3.3.4 切片获取的是视图而非副本</h3><pre><code>array([[16,  9,  7, 11],
       [19,  8,  3, 13],
       [17,  6, 12,  1],
       [19, 14,  4, 16]])






array([[16,  9],
       [19,  8]])
</code></pre>
<p><strong>注意：试图元素发生修改，则原数组亦发生相应修改</strong></p>
<pre><code>array([[ 0,  9],
       [19,  8]])






array([[ 0,  9,  7, 11],
       [19,  8,  3, 13],
       [17,  6, 12,  1],
       [19, 14,  4, 16]])
</code></pre>
<p>切片的复制.copy</p>
<pre><code>array([[ 5, 14,  9,  1],
       [ 8,  7, 15, 19],
       [17,  4,  8, 11],
       [16,  1, 19, 15]])






array([[ 5, 14],
       [ 8,  7]])






array([[ 0, 14],
       [ 8,  7]])






array([[ 5, 14,  9,  1],
       [ 8,  7, 15, 19],
       [17,  4,  8, 11],
       [16,  1, 19, 15]])
</code></pre>
<h2 id="3-4-数组的变形"><a href="#3-4-数组的变形" class="headerlink" title="3.4 数组的变形"></a>3.4 数组的变形</h2><h3 id="3-4-1-向量转矩阵"><a href="#3-4-1-向量转矩阵" class="headerlink" title="3.4.1 向量转矩阵"></a>3.4.1 向量转矩阵</h3><pre><code>array([5, 5, 3, 7, 7, 8, 6, 2, 6, 8, 8, 0])






(12,)






array([[5, 5, 3, 7],
       [7, 8, 6, 2],
       [6, 8, 8, 0]])
</code></pre>
<p><strong>注意：reshape返回的是视图，而非副本</strong></p>
<pre><code>array([0, 5, 3, 7, 7, 8, 6, 2, 6, 8, 8, 0])
</code></pre>
<h3 id="3-4-2-转行向量"><a href="#3-4-2-转行向量" class="headerlink" title="3.4.2 转行向量"></a>3.4.2 转行向量</h3><pre><code>一维向量转行向量




array([[0, 5, 3, 7, 7, 8, 6, 2, 6, 8, 8, 0]])






array([[0, 5, 3, 7, 7, 8, 6, 2, 6, 8, 8, 0]])
</code></pre>
<h3 id="3-4-3-转列向量"><a href="#3-4-3-转列向量" class="headerlink" title="3.4.3 转列向量"></a>3.4.3 转列向量</h3><pre><code>array([[0],
       [5],
       [3],
       [7],
       [7],
       [8],
       [6],
       [2],
       [6],
       [8],
       [8],
       [0]])






array([[0],
       [5],
       [3],
       [7],
       [7],
       [8],
       [6],
       [2],
       [6],
       [8],
       [8],
       [0]])
</code></pre>
<h3 id="3-4-4-多维转一维"><a href="#3-4-4-多维转一维" class="headerlink" title="3.4.4 多维转一维"></a>3.4.4 多维转一维</h3><pre><code>多维向量转一维向量




array([[8, 6, 1, 7],
       [9, 4, 4, 5],
       [5, 9, 1, 8],
       [0, 3, 8, 1]])
</code></pre>
<p>flatten返回的是副本</p>
<pre><code>array([8, 6, 1, 7, 9, 4, 4, 5, 5, 9, 1, 8, 0, 3, 8, 1])






array([[8, 6, 1, 7],
       [9, 4, 4, 5],
       [5, 9, 1, 8],
       [0, 3, 8, 1]])
</code></pre>
<p>ravel返回的是视图</p>
<pre><code>array([8, 6, 1, 7, 9, 4, 4, 5, 5, 9, 1, 8, 0, 3, 8, 1])






array([[0, 6, 1, 7],
       [9, 4, 4, 5],
       [5, 9, 1, 8],
       [0, 3, 8, 1]])
</code></pre>
<p>reshaoe返回的是视图</p>
<pre><code>array([0, 6, 1, 7, 9, 4, 4, 5, 5, 9, 1, 8, 0, 3, 8, 1])






array([[10,  6,  1,  7],
       [ 9,  4,  4,  5],
       [ 5,  9,  1,  8],
       [ 0,  3,  8,  1]])
</code></pre>
<h2 id="3-5-数组的拼接"><a href="#3-5-数组的拼接" class="headerlink" title="3.5 数组的拼接"></a>3.5 数组的拼接</h2><h3 id="3-5-1-水平拼接——非视图"><a href="#3-5-1-水平拼接——非视图" class="headerlink" title="3.5.1 水平拼接——非视图"></a>3.5.1 水平拼接——非视图</h3><pre><code>array([[1, 2, 3, 7, 8, 9],
       [4, 5, 6, 0, 1, 2]])






array([[1, 2, 3],
       [4, 5, 6]])






array([[1, 2, 3, 7, 8, 9],
       [4, 5, 6, 0, 1, 2]])






array([[1, 2, 3],
       [4, 5, 6]])
</code></pre>
<h3 id="3-5-2-垂直拼图——非视图"><a href="#3-5-2-垂直拼图——非视图" class="headerlink" title="3.5.2 垂直拼图——非视图"></a>3.5.2 垂直拼图——非视图</h3><pre><code>array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9],
       [0, 1, 2]])






array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9],
       [0, 1, 2]])
</code></pre>
<h2 id="3-6-数组的分裂"><a href="#3-6-数组的分裂" class="headerlink" title="3.6 数组的分裂"></a>3.6 数组的分裂</h2><h3 id="3-6-1-split"><a href="#3-6-1-split" class="headerlink" title="3.6.1 split"></a>3.6.1 split</h3><pre><code>array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])



[0 1] [2 3 4 5 6] [7 8 9]
</code></pre>
<h3 id="3-6-2-hsplit的用法"><a href="#3-6-2-hsplit的用法" class="headerlink" title="3.6.2 hsplit的用法"></a>3.6.2 hsplit的用法</h3><pre><code>array([[ 1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10],
       [11, 12, 13, 14, 15],
       [16, 17, 18, 19, 20],
       [21, 22, 23, 24, 25]])



right:
 [[ 1  2]
 [ 6  7]
 [11 12]
 [16 17]
 [21 22]]
middle:
 [[ 3  4]
 [ 8  9]
 [13 14]
 [18 19]
 [23 24]]
left:
 [[ 5]
 [10]
 [15]
 [20]
 [25]]
</code></pre>
<p>3.6.3 vsplit的用法</p>
<pre><code>array([[ 1,  2,  3,  4,  5],
       [ 6,  7,  8,  9, 10],
       [11, 12, 13, 14, 15],
       [16, 17, 18, 19, 20],
       [21, 22, 23, 24, 25]])



upper:
 [[ 1  2]
 [ 6  7]
 [11 12]
 [16 17]
 [21 22]]
middle:
 [[11 12 13 14 15]
 [16 17 18 19 20]]
lower:
 [[ 5]
 [10]
 [15]
 [20]
 [25]]
</code></pre>
<h1 id="4-四大运算"><a href="#4-四大运算" class="headerlink" title="4. 四大运算"></a>4. 四大运算</h1><h2 id="4-1-向量化运算"><a href="#4-1-向量化运算" class="headerlink" title="4.1 向量化运算"></a>4.1 向量化运算</h2><h3 id="4-1-1-与数字的加减乘除等"><a href="#4-1-1-与数字的加减乘除等" class="headerlink" title="4.1.1 与数字的加减乘除等"></a>4.1.1 与数字的加减乘除等</h3><pre><code>array([1, 2, 3, 4, 5])



x1+5 [ 6  7  8  9 10]
x1-5 [-4 -3 -2 -1  0]
x1*5 [ 5 10 15 20 25]
x1/5 [0.2 0.4 0.6 0.8 1. ]


-x1 [-1 -2 -3 -4 -5]
x1**5 [   1   32  243 1024 3125]
x1//5 [0 0 0 0 1]
x1%5 [1 2 3 4 0]
</code></pre>
<h3 id="4-1-2-绝对值"><a href="#4-1-2-绝对值" class="headerlink" title="4.1.2 绝对值"></a>4.1.2 绝对值</h3><pre><code>array([ 1, -1,  2, -2,  0])






array([1, 1, 2, 2, 0])






array([1, 1, 2, 2, 0])
</code></pre>
<h3 id="4-1-3-三角函数"><a href="#4-1-3-三角函数" class="headerlink" title="4.1.3 三角函数"></a>4.1.3 三角函数</h3><pre><code>array([0.        , 1.57079633, 3.14159265])



sin(theta) [0.0000000e+00 1.0000000e+00 1.2246468e-16]
cos(theta) [ 1.000000e+00  6.123234e-17 -1.000000e+00]
tan(theta) [ 0.00000000e+00  1.63312394e+16 -1.22464680e-16]


arcsin(x) [ 1.57079633  0.         -1.57079633]
arccos(x) [0.         1.57079633 3.14159265]
arctan(x) [ 0.78539816  0.         -0.78539816]
</code></pre>
<h3 id="4-1-4-指数运算"><a href="#4-1-4-指数运算" class="headerlink" title="4.1.4 指数运算"></a>4.1.4 指数运算</h3><pre><code>array([0, 1, 2])






array([1.        , 2.71828183, 7.3890561 ])
</code></pre>
<h3 id="4-1-5-对数运算"><a href="#4-1-5-对数运算" class="headerlink" title="4.1.5 对数运算"></a>4.1.5 对数运算</h3><pre><code>ln(x) [0.         0.69314718 1.38629436 2.07944154 2.30258509]
log2(x) [0.         1.         2.         3.         3.32192809]
lg(x) [0.         0.30103    0.60205999 0.90308999 1.        ]
</code></pre>
<h3 id="4-1-6-两个数组的运算"><a href="#4-1-6-两个数组的运算" class="headerlink" title="4.1.6 两个数组的运算"></a>4.1.6 两个数组的运算</h3><pre><code>array([1, 2, 3, 4, 5])






array([ 6,  7,  8,  9, 10])



x1+x2 [ 7  9 11 13 15]
x1-x2 [-5 -5 -5 -5 -5]
x1*x2 [ 6 14 24 36 50]
x1/x2 [0.16666667 0.28571429 0.375      0.44444444 0.5       ]
</code></pre>
<h2 id="4-2-矩阵运算"><a href="#4-2-矩阵运算" class="headerlink" title="4.2 矩阵运算"></a>4.2 矩阵运算</h2><h3 id="4-2-1矩阵的转置"><a href="#4-2-1矩阵的转置" class="headerlink" title="4.2.1矩阵的转置"></a>4.2.1矩阵的转置</h3><pre><code>array([[0, 1, 2],
       [3, 4, 5],
       [6, 7, 8]])






array([[0, 3, 6],
       [1, 4, 7],
       [2, 5, 8]])
</code></pre>
<h3 id="4-2-3-矩阵的乘法"><a href="#4-2-3-矩阵的乘法" class="headerlink" title="4.2.3 矩阵的乘法"></a>4.2.3 矩阵的乘法</h3><pre><code>array([[ 25,  31,  37],
       [ 64,  79,  94],
       [103, 127, 151]])






array([[ 25,  31,  37],
       [ 64,  79,  94],
       [103, 127, 151]])






array([[102, 126, 150],
       [ 18,  21,  24],
       [ 90, 111, 132]])






array([[102, 126, 150],
       [ 18,  21,  24],
       [ 90, 111, 132]])
</code></pre>
<h2 id="4-3-广播运算"><a href="#4-3-广播运算" class="headerlink" title="4.3 广播运算"></a>4.3 广播运算</h2><pre><code>array([[0, 1, 2]])






array([[5, 6, 7]])
</code></pre>
<p><img src="/10.Numpy%E5%BA%93_files/e4776a44-4f77-4010-876f-e2b0a2ca6ca4.png" alt="广播运算.png"></p>
<p> 如果俩个数组的形状在维度上不匹配</p>
<p>那么数组的形式会沿着维度为1 的维度进行拓展以匹配另外一个数组的形状</p>
<pre><code>array([[1., 1., 1.],
       [1., 1., 1.],
       [1., 1., 1.]])






array([[0, 1, 2]])






array([[1., 2., 3.],
       [1., 2., 3.],
       [1., 2., 3.]])






array([[0],
       [1],
       [2]])






array([[0, 1, 2]])






array([[0, 1, 2],
       [1, 2, 3],
       [2, 3, 4]])
</code></pre>
<h2 id="4-4-比较运算和掩码"><a href="#4-4-比较运算和掩码" class="headerlink" title="4.4 比较运算和掩码"></a>4.4 比较运算和掩码</h2><h3 id="4-4-1-比较运算"><a href="#4-4-1-比较运算" class="headerlink" title="4.4.1 比较运算"></a>4.4.1 比较运算</h3><pre><code>array([[82, 70, 83, 89, 32, 76, 49,  4, 19, 69],
       [97, 94, 31, 73, 97, 92, 71,  7, 19, 77],
       [71,  3, 48, 28, 98, 14,  6, 45, 43, 86],
       [ 6, 95, 54, 77, 65, 70, 36, 91, 89, 42],
       [55, 90, 10, 88,  8, 11, 44, 69,  6,  6],
       [73, 57, 83, 37, 87, 14, 49, 25, 27, 29],
       [92, 69, 14, 59, 86, 55, 50, 72,  2, 48],
       [69, 79, 66, 12, 83, 34, 42, 25, 43,  5],
       [75, 92, 89, 80, 23, 93, 57, 68, 93, 16],
       [71, 28,  2, 30, 57, 92, 24, 41, 51, 19]])






array([[ True,  True,  True,  True, False,  True, False, False, False,
         True],
       [ True,  True, False,  True,  True,  True,  True, False, False,
         True],
       [ True, False, False, False,  True, False, False, False, False,
         True],
       [False,  True,  True,  True,  True,  True, False,  True,  True,
        False],
       [ True,  True, False,  True, False, False, False,  True, False,
        False],
       [ True,  True,  True, False,  True, False, False, False, False,
        False],
       [ True,  True, False,  True,  True,  True, False,  True, False,
        False],
       [ True,  True,  True, False,  True, False, False, False, False,
        False],
       [ True,  True,  True,  True, False,  True,  True,  True,  True,
        False],
       [ True, False, False, False,  True,  True, False, False,  True,
        False]])
</code></pre>
<h3 id="4-4-2-操作布尔数组"><a href="#4-4-2-操作布尔数组" class="headerlink" title="4.4.2 操作布尔数组"></a>4.4.2 操作布尔数组</h3><pre><code>array([[2, 2, 8],
       [6, 3, 8],
       [7, 2, 3]])



[[ True  True False]
 [False  True  True]
 [False False  True]]





5






True






True






array([False, False, False])






array([[False, False,  True],
       [ True, False,  True],
       [ True, False, False]])






4
</code></pre>
<h3 id="4-4-3-将布尔数组作为掩码"><a href="#4-4-3-将布尔数组作为掩码" class="headerlink" title="4.4.3 将布尔数组作为掩码"></a>4.4.3 将布尔数组作为掩码</h3><pre><code>掩码是一串二进制代码对目标字段进行位与运算，屏蔽当前的输入位。




array([[2, 2, 8],
       [6, 3, 8],
       [7, 2, 3]])






array([[False, False,  True],
       [ True, False,  True],
       [ True, False, False]])






array([8, 6, 8, 7])
</code></pre>
<p> 当我们获得x&gt;5这样的一个数组后，我们把它当作一个掩码作为一个索引，我们发现所有大于5的数据全都提出来了，也就是相应位置为真的取出来，为假的就不取出来</p>
<h2 id="4-5-花哨的索引"><a href="#4-5-花哨的索引" class="headerlink" title="4.5 花哨的索引"></a>4.5 花哨的索引</h2><h3 id="4-5-1-一维数组"><a href="#4-5-1-一维数组" class="headerlink" title="4.5.1 一维数组"></a>4.5.1 一维数组</h3><pre><code>array([24, 66, 15, 61, 70, 82, 64,  1,  7, 28])
</code></pre>
<p>注意：结果的形状于索引数组ind一致</p>
<pre><code>array([15, 64, 28])






array([[66, 24],
       [15, 61]])
</code></pre>
<h3 id="4-5-2-多维数组"><a href="#4-5-2-多维数组" class="headerlink" title="4.5.2 多维数组"></a>4.5.2 多维数组</h3><pre><code>array([[ 0,  1,  2,  3],
       [ 4,  5,  6,  7],
       [ 8,  9, 10, 11]])






array([[1, 2, 3],
       [4, 5, 6],
       [7, 8, 9]])






array([2, 6, 7])






array([[0],
       [1],
       [2]])






array([[2, 3, 1],
       [5, 6, 4],
       [8, 9, 7]])
</code></pre>
<h1 id="5-其他Numpy通用函数"><a href="#5-其他Numpy通用函数" class="headerlink" title="5 其他Numpy通用函数"></a>5 其他Numpy通用函数</h1><h2 id="5-1-数值的排序"><a href="#5-1-数值的排序" class="headerlink" title="5.1 数值的排序"></a>5.1 数值的排序</h2><pre><code>array([37, 49, 24, 40, 34, 48, 32, 42, 22, 27])
</code></pre>
<h3 id="5-1-1-产生新的排序数组"><a href="#5-1-1-产生新的排序数组" class="headerlink" title="5.1.1 产生新的排序数组"></a>5.1.1 产生新的排序数组</h3><pre><code>array([22, 24, 27, 32, 34, 37, 40, 42, 48, 49])






array([37, 49, 24, 40, 34, 48, 32, 42, 22, 27])
</code></pre>
<h3 id="5-1-2-获得排序索引"><a href="#5-1-2-获得排序索引" class="headerlink" title="5.1.2 获得排序索引"></a>5.1.2 获得排序索引</h3><pre><code>array([24, 39, 29, 31, 34, 49, 20, 41, 34, 26])






array([9, 1, 8, 6, 7, 2, 4, 5, 3, 0], dtype=int64)
</code></pre>
<h2 id="5-2-最大最小值"><a href="#5-2-最大最小值" class="headerlink" title="5.2 最大最小值"></a>5.2 最大最小值</h2><pre><code>array([42, 21, 26, 33, 28, 29, 24, 25, 21, 20])



max: 42
min: 20


max_index: 0
min_index: 9
</code></pre>
<h2 id="5-3-数值求和、求积"><a href="#5-3-数值求和、求积" class="headerlink" title="5.3 数值求和、求积"></a>5.3 数值求和、求积</h2><pre><code>269






array([[0, 1, 2],
       [3, 4, 5]])
</code></pre>
<h3 id="5-3-1-按行求和"><a href="#5-3-1-按行求和" class="headerlink" title="5.3.1 按行求和"></a>5.3.1 按行求和</h3><pre><code>array([ 3, 12])
</code></pre>
<h3 id="5-3-2-按列求和"><a href="#5-3-2-按列求和" class="headerlink" title="5.3.2 按列求和"></a>5.3.2 按列求和</h3><h3 id="5-3-3-求积"><a href="#5-3-3-求积" class="headerlink" title="5.3.3 求积"></a>5.3.3 求积</h3><pre><code>array([1, 2, 3, 4, 5])






120






120
</code></pre>
<h3 id="5-4-中位数、均值、方差、标准差"><a href="#5-4-中位数、均值、方差、标准差" class="headerlink" title="5.4 中位数、均值、方差、标准差"></a>5.4 中位数、均值、方差、标准差</h3><p>​<br><img src="/10.Numpy%E5%BA%93_files/10.Numpy%E5%BA%93_232_0.png" alt="png"><br>​    </p>
<h3 id="5-4-1-中位数"><a href="#5-4-1-中位数" class="headerlink" title="5.4.1 中位数"></a>5.4.1 中位数</h3><pre><code>-0.00014865819330672672
</code></pre>
<h3 id="5-4-2-均值"><a href="#5-4-2-均值" class="headerlink" title="5.4.2 均值"></a>5.4.2 均值</h3><pre><code>2.488869816337371e-05






2.488869816337371e-05
</code></pre>
<h3 id="5-4-3-方差"><a href="#5-4-3-方差" class="headerlink" title="5.4.3 方差"></a>5.4.3 方差</h3><pre><code>0.9997992389559418






0.9997992389559418
</code></pre>
<h3 id="5-4-4-标准差"><a href="#5-4-4-标准差" class="headerlink" title="5.4.4 标准差"></a>5.4.4 标准差</h3><pre><code>0.9998996144393405






0.9998996144393405
</code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">ZI YUAN</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2025/03/11/10-Numpy%E5%BA%93/">http://example.com/2025/03/11/10-Numpy%E5%BA%93/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">宋子源的个人网站</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/ziyuan.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav id="pagination"><div class="pagination"></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/ziyuan.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">ZI YUAN</div><div class="author-info-description">又大又粗，干谁谁哭</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">17</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/ziyuan0315/ziyuan0315.github.io" target="_blank" title="Github"><i class="fab fa-github" style="color: #hdhfbb;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/03/11/12.Matplotlib%E5%BA%93/" title="无标题">无标题</a><time datetime="2025-03-11T12:16:12.784Z" title="发表于 2025-03-11 20:16:12">2025-03-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/03/11/test/" title="无标题">无标题</a><time datetime="2025-03-11T08:08:13.724Z" title="发表于 2025-03-11 16:08:13">2025-03-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/03/11/12-Matplotlib%E5%BA%93/" title="12.Matplotlib库">12.Matplotlib库</a><time datetime="2025-03-11T07:52:21.000Z" title="发表于 2025-03-11 15:52:21">2025-03-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/03/11/11-Pandas%E5%BA%93/" title="11.Pandas库">11.Pandas库</a><time datetime="2025-03-11T07:50:51.000Z" title="发表于 2025-03-11 15:50:51">2025-03-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/03/11/10-Numpy%E5%BA%93/" title="10.Numpy库">10.Numpy库</a><time datetime="2025-03-11T07:50:31.000Z" title="发表于 2025-03-11 15:50:31">2025-03-11</time></div></div></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>归档</span>
      
    </div>
  
    <ul class="card-archive-list">
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/03/">
            <span class="card-archive-list-date">
              三月 2025
            </span>
            <span class="card-archive-list-count">16</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/02/">
            <span class="card-archive-list-date">
              二月 2025
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
    </ul>
  </div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站信息</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">17</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总浏览量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-03-11T12:25:14.228Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By ZI YUAN</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.3</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>